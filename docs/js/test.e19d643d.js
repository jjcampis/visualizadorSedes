(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["test"],{2762:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-md-center"},[s("b-col",{staticClass:"text-end",attrs:{col:"",lg:"1"}},[s("label",{staticClass:"me-0",attrs:{for:"sedes"}},[e._v("Sede:")])]),s("b-col",{staticClass:"text-start",attrs:{col:"",lg:"1",md:"auto"}},[s("b-form-select",{attrs:{id:"sedes",options:e.sedes},model:{value:e.sede,callback:function(t){e.sede=t},expression:"sede"}})],1),s("b-col",{staticClass:"text-end",attrs:{col:"",lg:"1"}},[s("div",[e._v("Matrícula: "),e.sede?s("strong",[e._v(e._s(e.sede.matricula))]):e._e()])])],1),s("b-row",{staticClass:"justify-content-md-center"},[s("b-col",{staticClass:"text-end",attrs:{col:"",lg:"1"}},[s("label",{staticClass:"me-0",attrs:{for:"trayecto"}},[e._v("Trayecto:")])]),s("b-col",{staticClass:"text-start",attrs:{col:"",lg:"1",md:"auto"}},[s("b-form-select",{attrs:{id:"trayecto",options:e.trayectos},model:{value:e.trayecto,callback:function(t){e.trayecto=t},expression:"trayecto"}})],1),s("b-col",{staticClass:"text-end",attrs:{col:"",lg:"1"}},[s("div",[e._v("Matrícula:"),e.trayecto?s("strong",[e._v(e._s(e.trayecto.matricula))]):e._e()])])],1),e._m(0),s("b-button",{on:{click:function(t){e.muestra=!e.muestra}}},[e._v("clickme")]),e._v(" "+e._s(e.muestra)+" "),s("transition",{attrs:{name:"fade"}},[e.muestra?s("div",[e._v("aloja")]):e._e()]),s("b-button",{on:{click:e.cargard}},[e._v("carga")]),s("div",[s("b-progress",{staticClass:"mt-3",attrs:{value:e.mapear(e.cargado,0,e.sedes.length-1,0,100),variant:"success"}}),s("p",[e._v(e._s(e.sedes[e.cargado].sede))]),e._v(" "+e._s(e.cargado+1)+" - "+e._s(e.sedes.length)+" ")],1)],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"mt-5"},[s("b",[e._v("PLANILLA DE EVALUACIÓN GENERAL TRIMESTRAL POR SEDE Y POR TRAYECTOS")])])}],o=s("ade3"),c=s("53ca"),n=s("b85c"),i=s("1da1"),l=s("5530"),d=(s("d3b7"),s("b64b"),s("4de4"),s("caad"),s("2532"),s("d81d"),s("b680"),s("159b"),s("96cf"),s("eeb9")),u=s("4360"),_=s("2f62"),f={data:function(){return{rango:0,cargado:0,muestra:!1,trayecto:null,trayectitos_sedes:{},ejes:["electronica","contruccion","diseno","programacion","promedio_php"],claves_datos:["tr","tk","mj","tm","ti","hm"],vTrayectos:["TrendKids","TecnoKids","MakerJuniors","TeensMaker","TeamInn","HighMaker"],trayectos:[{value:null,text:"Selecciona Trayecto"},{value:{sel:"Trend-kids",matricula:25},text:"Trend-Kids"},{value:{sel:"Tecno-kids",matricula:15},text:"Tecno-kids"},{value:{sel:"Maker-Juniors",matricula:35},text:"Maker-Juniors"}],sede:null}},computed:Object(l["a"])({},Object(_["c"])(["rubricas_sede","rubricas_G","sedes","cargando"])),methods:{mapear:function(e,t,s,r,a){return Math.round((e-t)*(a-r)/(s-t)+r)},cargard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r,a,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=0,window.mysede=e.rubricas_sede,r=Object(n["a"])(e.sedes),t.prev=3,r.s();case 5:if((a=r.n()).done){t.next=23;break}return o=a.value,t.next=9,d["a"].get(d["a"].defaults.baseURL+"/json/evaluacion_sedes?_format=json&field_user_espaciomaker_target_id_entityreference_filter="+o.id);case 9:return c=t.sent,i=c.data,u["a"].commit("SET_rubricasG",{sede:o,dato:i}),t.next=14,e.filtro_trayectos(o.sede);case 14:e.añadir_claves_trayectos(i,o.sede),console.log("termino el sede; ",o),console.log(e.sedes[s].sede,i),console.log("trayectito: ",e.trayectitos_sedes),s==e.sedes.length-1&&console.log("todo ok cargado"),s++,e.cargado++;case 21:t.next=5;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](3),r.e(t.t0);case 28:return t.prev=28,r.f(),t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[3,25,28,31]])})))()},filtro_trayectos:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.abrupt("return",new Promise((function(s){console.log(e);var r,a=Object(n["a"])(t.vTrayectos);try{var o=function(){var s=r.value;if(!(Object.keys(t.rubricas_sede).length>0))return console.log("error",Object.keys(t.rubricas_sede).length),{v:[]};var a,o=t.rubricas_sede[e].filter((function(e){return e.field_user_estudiante.toLowerCase().includes(s.toLowerCase())})),c=Object(n["a"])(t.ejes);try{for(c.s();!(a=c.n()).done;){var i=a.value;t.calcprom(o,i,s,e),console.log("que1")}}catch(l){c.e(l)}finally{c.f()}console.log(e,s,o),console.log("trayectitos: ",t.trayectitos_sedes)};for(a.s();!(r=a.n()).done;){var i=o();if("object"===Object(c["a"])(i))return i.v}}catch(l){a.e(l)}finally{a.f()}console.log("que2"),s()})));case 1:case"end":return s.stop()}}),s)})))()},calcprom:function(e,t,s,r){void 0==this.trayectitos_sedes[r]&&(this.trayectitos_sedes[r]={},console.log("se creo sede",r)),void 0==this.trayectitos_sedes[r][s]&&(this.trayectitos_sedes[r][s]={},console.log("se creo trayecto",s)),void 0==this.trayectitos_sedes[r][s][t]&&(console.log("se creo eje",t),this.trayectitos_sedes[r][s][t]={});var a="",c={};if(e.length>0)if(console.log(e,t,s),"promedio_php"==t){a="field_rubrica_"+t,c={};var n=e.filter((function(e){return parseInt(e[a])>0})).map((function(e){return parseInt(e[a])||0}));if(n.length>0){n=n.reduce((function(e,t){return e+t}));var i=n/e.filter((function(e){return parseInt(e.field_rubrica_promedio_php)>0})).length;if(i>0){var l="pst";c=Object(o["a"])({},l,i.toFixed(2))}}}else for(var d=1;d<4;d++){a="field_rubrica_"+t+"_a"+d,console.log("Aca datos:"),console.log(parseInt(e[0]["field_rubrica_"+t+"_a1"])||0),console.log(e[0]["field_rubrica_"+t+"_a2"]),console.log(e[0]["field_rubrica_"+t+"_a3"]),c={};var u=e.filter((function(e){return parseInt(e[a])>0})).map((function(e){return parseInt(e[a])||0}));if(console.log("res =>",u),u.length>0){u=u.reduce((function(e,t){return e+t}));var _=u/e.filter((function(e){return parseInt(e[a])>0})).length,f="a"+d;c=Object(o["a"])({},f,_.toFixed(2)),Object.assign(this.trayectitos_sedes[r][s][t],c)}}else c="promedio_php"==t?{pst:0}:{a1:0,a2:0,a3:0};0==Object.keys(c).length&&(console.log("esta vacio"),c={a1:0,a2:0,a3:0}),console.log("datito",c,"trayecto",s,"eje",t),Object.assign(this.trayectitos_sedes[r][s][t],c)},"añadir_claves_trayectos":function(e,t){var s=this;if(console.log("datosxx",e.length>0),e.length>0){var r={};this.claves_datos.forEach((function(t){r[t]=Object.keys(e[0]).filter((function(e){return e.substring(0,2)==t}))})),console.log("aqui llave",r),this.claves_datos.forEach((function(a){r[a].forEach((function(r){if("tr"==a)try{void 0==s.trayectitos_sedes[t]["TrendKids"]&&(s.trayectitos_sedes[t]["TrendKids"]={}),Object.assign(s.trayectitos_sedes[t]["TrendKids"],Object(o["a"])({},r.substring(7),e[0][r]))}catch(c){console.log("El error: ",c),console.log(s.trayectitos_sedes[t]["TrendKids"]),console.log(e[0][r])}"tk"==a&&(console.log("datosede: ",e),Object.assign(s.trayectitos_sedes[t]["TecnoKids"],Object(o["a"])({},r.substring(7),e[0][r]))),"mj"==a&&Object.assign(s.trayectitos_sedes[t]["MakerJuniors"],Object(o["a"])({},r.substring(7),e[0][r])),"tm"==a&&Object.assign(s.trayectitos_sedes[t]["TeensMaker"],Object(o["a"])({},r.substring(7),e[0][r])),"ti"==a&&Object.assign(s.trayectitos_sedes[t]["TeamInn"],Object(o["a"])({},r.substring(7),e[0][r])),"hm"==a&&Object.assign(s.trayectitos_sedes[t]["HighMaker"],Object(o["a"])({},r.substring(7),e[0][r]))}))}))}},otra:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){t(e)}),150)})));case 1:case"end":return t.stop()}}),t)})))()}}},b=f,g=s("0c7c"),v=Object(g["a"])(b,r,a,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=test.e19d643d.js.map